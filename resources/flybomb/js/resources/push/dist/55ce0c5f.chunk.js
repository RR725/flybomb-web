webpackJsonp([16],{921:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(600),s=l(r),i=a(783),u=a(777),d=l(u),o=a(922),p=l(o),c=i.Form.Item,m=i.Radio.Button,f=i.Radio.Group,h=s.default.createClass({displayName:"PushTime",getInitialState:function(){var e=this.props.router,t=864e5,a=new Date,l="userdata"===e?new Date(+new Date-6*t):a,n=d.default.dateFormat("yyyy-MM-dd",l),r=d.default.dateParse(n+" 00:00:00");return{startTimeStatus:"success",endTimeStatus:"success",startTime:r,endTime:a,display:"none",errorTips:"",pushTimeType:0}},changeRadio:function(e){var t=e.target.value,a=+new Date,l=864e5,n={pushTimeType:t};if(1===t?n.endTime=new Date(a-Number(t)*l):n.endTime=new Date,"number"==typeof t){n.startTime=new Date(a-Number(t)*l);var r=d.default.dateFormat("yyyy-MM-dd",n.startTime);1!==t&&0!==t||(n.startTime=d.default.dateParse(r+" 00:00:00")),1===t&&(n.endTime=d.default.dateParse(r+" 23:59:59")),n.display="none",n.startTimeStatus="success",n.endTimeStatus="success",n.errorTips=""}else n.startTime=new Date;this.setState(n),this.props.form.setFieldsValue(n)},componentDidMount:function(){"userdata"===this.props.router&&this.setState({pushTimeType:6})},onOpen:function(){this.setState({pushTimeType:"other"})},changeStartTime:function(e){var t=this.props.router,a=this.props.required,l={router:t,required:a},n=this.props.form.getFieldValue("endTime"),r=p.default.changeStartTime(e,n,l);this.setState(r)},changeEndTime:function(e){var t=this.props.required,a={required:t},l=this.props.form.getFieldValue("startTime"),n=p.default.changeEndTime(e,l,a);this.setState(n)},render:function(){var e="",t=this.props.type,a=this.props.router;"second"===t&&(e=" H:mm:ss");var l=this.props.form.getFieldProps;return s.default.createElement(c,{className:"radio_btn",labelCol:{span:2},wrapperCol:{span:22},label:"时间    "},"personal"===a?null:s.default.createElement(f,{onChange:this.changeRadio,value:this.state.pushTimeType,size:"large",style:{marginRight:10}},"userdata"===a?null:s.default.createElement(m,{value:0},"今天"),"userdata"===a?null:s.default.createElement(m,{value:1},"昨天"),"analyze"===a?null:s.default.createElement(m,{value:6},"最近7天"),"analyze"===a?null:s.default.createElement(m,{value:30},"最近30天"),s.default.createElement(m,{value:"other"},"选择日期")),s.default.createElement(c,{validateStatus:this.state.startTimeStatus,className:"display_ib va_t mg0"},s.default.createElement(i.DatePicker,n({},l("startTime",{initialValue:this.state.startTime,onChange:this.changeStartTime}),{toggleOpen:this.onOpen,showTime:!0,format:"yyyy-MM-dd"+e}))),"analyze"===a?null:s.default.createElement("span",{className:"pl10 pr10"},"至"),"analyze"===a?null:s.default.createElement(c,{validateStatus:this.state.endTimeStatus,className:"display_ib va_t mg0"},s.default.createElement(i.DatePicker,n({},l("endTime",{initialValue:this.state.endTime,onChange:this.changeEndTime}),{toggleOpen:this.onOpen,showTime:!0,format:"yyyy-MM-dd"+e}))),s.default.createElement("span",{style:{display:this.state.display},className:"color_error pl10"},this.state.errorTips))}});e.exports=h},1348:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var n=a(600),r=l(n),s=a(1349),i=l(s),u=a(776),d=l(u),o=a(777),p=l(o),c=a(785),m=l(c),f=r.default.createClass({displayName:"App",getInitialState:function(){return{current:1,tableData:{loading:!0,data:[],pagination:null}}},tableData:function(e,t){var a=this;this.setState({tableData:{loading:!0}});var l={index:e.index,startTime:e.startTime,endTime:e.endTime},n=e.appId;n&&"0"!==n&&(l.appId=e.appId);var r=p.default.makeUrl(t,l);m.default.get(r,function(n){var r=n.value.result;r.map(function(e,t){r[t].key=t}),a.setState({tableData:{data:r,loading:!1,pagination:{total:n.value.amount,current:e.index,pageSize:10,showSizeChanger:!1,onChange:function(e){l.index=e,a.setState({current:e}),a.tableData(l,t)}}}})})},componentWillUnmount:function(){document.querySelector("#platformManage")&&(document.querySelector("#platformManage").className="")},componentDidMount:function(){document.querySelector("#platformManage")&&(document.querySelector("#platformManage").className="active");var e={index:1,startTime:p.default.dateFormat("yyyy-MM-dd",new Date(+new Date-5184e5)),endTime:p.default.dateFormat("yyyy-MM-dd",new Date)};this.tableData(e,d.default.dailyPushCount)},render:function(){return r.default.createElement("div",null,r.default.createElement(i.default,{refresh:this.state.refresh,tableData:this.state.tableData,onSearch:this.tableData}))}});e.exports=f},1349:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(600),s=l(r),i=a(783),u=a(921),d=l(u),o=a(776),p=l(o),c=a(785),m=l(c),f=a(777),h=l(f),y=a(800),T=l(y),g=a(1350),v=l(g),b=a(1351),E=l(b),D=a(1352),N=l(D),S=i.Form.Item,_=i.Tabs.TabPane,I={labelCol:{span:8},wrapperCol:{span:16}},x=s.default.createClass({displayName:"AddAppTask",getInitialState:function(){return{initData:{},values:[],startTimeStatus:"success",endTimeStatus:"success",data:null,appName:"全部应用",noticeBarType:"0",noticeExpandType:"0",pushTimeType:6,errors:{},restapi:p.default.dailyPushCount,defaultAppid:"应用",randomUser:1,appId:0,startTime:new Date(+new Date-5184e5),endTime:new Date}},componentWillMount:function(){var e=this,t=h.default.queryString("id",window.location.href);t&&e.props.form.setFieldsValue({appId:t})},selectType:function(e,t){this.props.form.setFieldsValue({appId:e}),this.setState({appId:e,appName:t})},handleSubmit:function(e){var t=this,a=this;e.preventDefault();var l=this.state.appId;this.props.form.validateFields(function(e,n){if(""!==a.state.display){if(e)return void console.log("Errors in form!!!");n.index=1,n.startTime=h.default.dateFormat("yyyy-MM-dd",n.startTime),n.endTime=h.default.dateFormat("yyyy-MM-dd",n.endTime),l&&"0"!==l&&(n.appId=l);for(var r in n)""===n[r]&&delete n[r];t.props.onSearch(n,t.state.restapi)}})},onChange:function(e){var t=this.state.appId,a={index:1,startTime:h.default.dateFormat("yyyy-MM-dd",this.props.form.getFieldValue("startTime")),endTime:h.default.dateFormat("yyyy-MM-dd",this.props.form.getFieldValue("endTime"))},l=p.default.dailyPushCount;"2"===e&&(l=p.default.dailyUserCount),"3"===e&&(l=p.default.dailyKPICount),this.setState({restapi:l}),t&&"0"!==t&&(a.appId=t),this.props.onSearch(a,l)},componentDidMount:function(){var e=this,t=p.default.appCount;m.default.get(t,function(t){var a=t.value;e.setState({totalAppNum:a.totalAppNum,totalDeveloperNum:a.totalDeveloperNum})})},render:function(){var e={api:p.default.listUserApp,width:"190",all:"全部应用",appName:this.state.appName,name:"appId",appId:this.state.appId},t=s.default.createElement("div",{className:"platform_data_operations"},s.default.createElement("span",{className:"developer_num"},"开发者数量",s.default.createElement("span",{className:"num"},this.state.totalDeveloperNum)),s.default.createElement("span",{className:"app_num"},"接入应用数",s.default.createElement("span",{className:"num"},this.state.totalAppNum)));return s.default.createElement(i.Form,{horizontal:!0},s.default.createElement(i.Row,null,s.default.createElement(i.Col,{span:"24"},s.default.createElement(d.default,{router:"analyze",type:"day",form:this.props.form}))),s.default.createElement(i.Row,null,s.default.createElement(i.Col,{span:"6"},s.default.createElement(S,{labelCol:{span:8},wrapperCol:{span:16},label:"应用名称    "},s.default.createElement(T.default.render,{notFoundContent:"无数据",showSearch:!0,searchPlaceholder:"搜索应用名称",selectType:this.selectType,initData:e}))),s.default.createElement(i.Col,{span:"6"},s.default.createElement(S,n({},I,{label:""}),s.default.createElement(i.Button,{className:"ml10",type:"primary",onClick:this.handleSubmit,size:"large"},"查询")))),s.default.createElement(i.Tabs,{onChange:this.onChange,tabBarExtraContent:t,className:"platform_data"},s.default.createElement(_,{tab:"推送量",key:"1"},s.default.createElement(v.default,{refresh:this.props.refresh,tableData:this.props.tableData})),s.default.createElement(_,{tab:"SDK用户数",key:"2"},s.default.createElement(E.default,{refresh:this.props.refresh,tableData:this.props.tableData})),s.default.createElement(_,{tab:"KPI",key:"3"},s.default.createElement(N.default,{refresh:this.props.refresh,tableData:this.props.tableData}))))}});x=i.Form.create()(x),e.exports=x},1350:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var n=a(600),r=l(n),s=a(783),i=r.default.createClass({displayName:"App",getInitialState:function(){return{columns:[{title:"日期",key:"0",className:"ta_c",dataIndex:"date"},{title:"推送应用数",key:"1",className:"ta_c",dataIndex:"appsNo"},{title:"推送用户数",key:"2",className:"ta_r",dataIndex:"totalUserNo"},{title:"推送量",key:"3",className:"ta_r",dataIndex:"totalPushNo"}],refresh:!1}},render:function(){return r.default.createElement(s.Table,{columns:this.state.columns,loading:this.props.tableData.loading,dataSource:this.props.tableData.data,pagination:this.props.tableData.pagination})}});e.exports=i},1351:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var n=a(600),r=l(n),s=a(783),i=r.default.createClass({displayName:"App",getInitialState:function(){return{columns:[{title:"日期",key:"0",className:"ta_c",dataIndex:"date"},{title:"日增用户数",key:"1",className:"ta_r",dataIndex:"dailyNew"},{title:"在线峰值用户数",key:"2",className:"ta_r",dataIndex:"dailyPeak"},{title:"日联网用户数",key:"3",className:"ta_r",dataIndex:"dailyUsers"},{title:"累计注册用户数",className:"ta_r",key:"4",dataIndex:"totalUsers"}],refresh:!1}},render:function(){return r.default.createElement(s.Table,{columns:this.state.columns,loading:this.props.tableData.loading,dataSource:this.props.tableData.data,pagination:this.props.tableData.pagination})}});e.exports=i},1352:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var n=a(600),r=l(n),s=a(783),i=a(1353),u=l(i),d=r.default.createClass({displayName:"App",getInitialState:function(){return{columns:[{title:"日期",key:"0",className:"ta_c",dataIndex:"date"},{title:r.default.createElement(u.default,{text:"推送率"}),key:"1",className:"ta_c",dataIndex:"pushRate"},{title:r.default.createElement(u.default,{text:"送达率"}),key:"2",className:"ta_c",dataIndex:"deliverRate"},{title:r.default.createElement(u.default,{text:"到达率"}),key:"3",className:"ta_c",dataIndex:"arriveRate"}],refresh:!1}},render:function(){return r.default.createElement(s.Table,{columns:this.state.columns,loading:this.props.tableData.loading,dataSource:this.props.tableData.data,pagination:this.props.tableData.pagination})}});e.exports=d},1353:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var n=a(600),r=l(n),s=a(783),i=r.default.createClass({displayName:"Info",render:function(){var e=this,t=[{text:"推送率",title:"推送数/有效数*100%。衡量推送平台的推送效率"},{text:"送达率",title:"接收数/推送数*100%。接收数为平台推送出去之后，成功接收消息的设备量，推送数为Push平台实际下发推送的数量；送达率衡量推送消息用户的接收率"},{text:"到达率",title:"到达数/接收数*100%。到达数为消息从push服务到达APP的数量。衡量pushSDK转发消息的稳定性"}],a=t.map(function(t){return t.text===e.props.text?t.title:""});return r.default.createElement("span",null,r.default.createElement(s.Tooltip,{title:a},r.default.createElement(s.Icon,{className:"fs14 color999 fw_n cursor_p",type:"info-circle-o"})),this.props.text)}});e.exports=i}});