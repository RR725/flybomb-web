webpackJsonp([1],{781:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var l=a(600),r=n(l),s=a(782),p=n(s),u=a(776),i=n(u),d=a(777),c=n(d),o=a(785),h=n(o),m=r.default.createClass({displayName:"App",getInitialState:function(){return{current:1,appId:0,tableData:{loading:!1,data:[],pagination:null}}},tableData:function(e){var t=this;this.setState({tableData:{loading:!0}});var a=i.default.homeList;a=c.default.makeUrl(a,e),h.default.get(a,function(a){var n=a.value.result;n.map(function(e,t){n[t].key=t}),t.setState({tableData:{data:n,loading:!1,pagination:{total:a.value.amount,current:e.index,pageSize:10,showSizeChanger:!1,onChange:function(e){var a={appId:0,name:"",index:e};t.setState({current:e}),t.tableData(a)}}}})})},componentWillUnmount:function(){document.querySelector("#home").className=""},componentDidMount:function(){document.querySelector("#home").className="active"},render:function(){return r.default.createElement("div",null,r.default.createElement(p.default,{current:this.state.current,refresh:this.state.refresh,tableData:this.state.tableData,getTableData:this.tableData}))}});e.exports=m},782:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var l=a(600),r=n(l),s=a(783),p=a(776),u=n(p),i=a(777),d=n(i),c=a(784),o=n(c),h=a(800),m=n(h),f=s.Select.Option,y=s.Form.Item,g={},E=r.default.createClass({displayName:"App",getInitialState:function(){return{data:null,searchStatus:!1,appName:"全部应用",appId:0}},handleSearch:function(){this.setState({searchStatus:!this.state.searchStatus})},selectType:function(e,t){var a=this.state.searchType;this.props.form.setFieldsValue({appId:e}),this.setState({appId:e,appName:t}),0!=e&&(g.current=1);var n={index:g.current||1};"number"==typeof e&&(e=t),n[a||"appId"]=e||0,this.props.getTableData(n)},componentWillReceiveProps:function(){},componentDidMount:function(){var e=window.location.hash,t=d.default.queryString("type",e),a={appId:0,index:g.current||1};if(t)if(g.appId){for(var n=m.default.allApp,l=this.state.appName,r=0;r<n.length;r++)n[r].appId==g.appId&&(l=n[r].name);this.selectType(g.appId,l)}else this.props.getTableData(a);else a.index=1,this.props.getTableData(a)},addApp:function(e){g.appId=this.state.appId;var t=window.location.hash,a={type:"back"};g.current=g.current>1?g.current:this.props.current,t=d.default.makeUrl(t.split("?")[0],a),window.location.hash=t,window.location.hash=e},changeType:function(e){this.setState({searchType:e})},render:function(){var e={api:u.default.listUserApp,width:"190",all:"全部应用",appName:this.state.appName,name:"appId",appId:this.state.appId},t=document.getElementById("userAuth")&&document.getElementById("userAuth").innerHTML;return r.default.createElement("div",null,r.default.createElement(s.Form,{horizontal:!0},r.default.createElement("div",{className:"home_toolbar"},r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"4"},r.default.createElement("div",{className:"title"},r.default.createElement("span",{className:"border"}),"应用列表")),r.default.createElement(s.Col,{span:"10"}," "),r.default.createElement(s.Col,{span:"10"},r.default.createElement("div",{style:{textAlign:"right"}},r.default.createElement(s.Col,{span:"3"}," "),r.default.createElement(s.Col,{span:"21"},t>1?r.default.createElement(y,{className:"display_ib mr10"},r.default.createElement(s.Select,{onChange:this.changeType,defaultValue:"appId",style:{width:100}},r.default.createElement(f,{value:"appId"},"按应用搜"),r.default.createElement(f,{value:"packageName"},"按包名搜"),r.default.createElement(f,{value:"pushAppId"},"按AppID搜"))):null,r.default.createElement(y,{className:"display_ib mr10"},r.default.createElement(m.default.render,{searchType:this.state.searchType,notFoundContent:"无数据",showSearch:!0,searchPlaceholder:"搜索应用名称",selectType:this.selectType,initData:e})),t>0?r.default.createElement(s.Button,{onClick:this.addApp.bind(this,"/home/add-app"),type:"primary",size:"large"},r.default.createElement(s.Icon,{style:{fontSize:12,fontWeight:"bold"},type:"plus"}),"新建应用"):null)))))),r.default.createElement(o.default.render,{refresh:this.props.refresh,tableData:this.props.tableData}))}});E=s.Form.create()(E),e.exports=E}});