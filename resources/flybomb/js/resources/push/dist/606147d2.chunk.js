webpackJsonp([15],{902:function(t,e,a){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}var r=a(600),n=l(r),i=a(783),s=n.default.createClass({displayName:"Info",getContainer:function(){return document.getElementById("detailTable")},render:function(){var t=this,e=[{text:"目标数",title:"计划推送的目标数"},{text:"日增用户数",title:"当天首次订阅应用的设备数"},{text:"在线峰值用户数",title:"订阅该应用的设备中，当天同时在线的数量峰值"},{text:"日联网用户数",title:"订阅该应用的设备中，当天有联网行为的设备数总和"},{text:"累计注册用户数",title:"历史累积订阅该应用的设备数，已卸载应用不计入累计用户数中"},{text:"联网数",title:"联网并且与通道形成长链接的设备数"},{text:"到达应用数",title:"PushSDK将消息发送给应用的数量（flyme6中，通知栏消息由pushSDK弹出，此埋点仍保留有上报数据）"},{text:"划掉数",title:"在通知栏中划掉消息的数量。透传消息不统计该项"},{text:"已卸载数",title:"本次推送任务中应用已被卸载的数量，数据上将出现接收数大于展示数。（flyme6固件此应用会被反订阅，在重新订阅前下次推送任务将不朝它推送；flyme6以下固件应用没有被反订阅）"},{text:"有效数",title:"从目标数中去除错误或无效的ID，实际有效的ID数量。筛选包括开关状态，订阅状态，pushid有效性以及其他可以推送状态"},{text:"推送数",title:"Push平台实际下发推送的数量"},{text:"接收数",title:"Push服务接收数，任务有效期内，联网并正常接收到推送消息的数量"},{text:"展示数",title:"客户端从Push服务收到消息，并在通知栏中展示的数量（3.0以下版本SDK，数据统计T+1，3.0以上实时统计。透传消息没有展示数统计）"},{text:"点击数",title:"用户点击消息的数量（3.0以下版本SDK，数据统计T+1，3.0以上实时统计。透传消息没有点击数统计）"},{text:"App ID",title:"应用的唯一标识，客户端订阅推送时使用"},{text:"App Key",title:"客户端身份标识，客户端订阅推送时使用"},{text:"App Secret",title:"服务端身份标识，服务端 SDK 初始化使用"},{text:"点击动作",title:"调起包名不是必填项，如不填，则参数传给本应用"},{text:"推送黑名单",title:"选择黑名单后，本次推送将不会朝这批用户推送"},{text:"定速推送",title:"开启定速推送后，此任务的推送速率将按设置的速率推送。速率不会超过应用最大推送速率"},{text:"定时展示",title:"开启定时展示后，目标用户的展示量将平摊到时间段内"},{text:"任务定制",title:"设置好循环推送的周期后，会在规定的时间点进行推送"}],a=e.map(function(e){var a=t.props.text;return a.indexOf(e.text)>-1?e.title:""});return n.default.createElement("span",null,n.default.createElement(i.Tooltip,{getTooltipContainer:this.getContainer,title:a},n.default.createElement("i",{className:"fs14 color999 fw_n cursor_p anticon anticon-info-circle-o"})),this.props.text)}});t.exports=s},921:function(t,e,a){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},n=a(600),i=l(n),s=a(783),u=a(777),o=l(u),d=a(922),c=l(d),p=s.Form.Item,m=s.Radio.Button,f=s.Radio.Group,h=i.default.createClass({displayName:"PushTime",getInitialState:function(){var t=this.props.router,e=864e5,a=new Date,l="userdata"===t?new Date(+new Date-6*e):a,r=o.default.dateFormat("yyyy-MM-dd",l),n=o.default.dateParse(r+" 00:00:00");return{startTimeStatus:"success",endTimeStatus:"success",startTime:n,endTime:a,display:"none",errorTips:"",pushTimeType:0}},changeRadio:function(t){var e=t.target.value,a=+new Date,l=864e5,r={pushTimeType:e};if(1===e?r.endTime=new Date(a-Number(e)*l):r.endTime=new Date,"number"==typeof e){r.startTime=new Date(a-Number(e)*l);var n=o.default.dateFormat("yyyy-MM-dd",r.startTime);1!==e&&0!==e||(r.startTime=o.default.dateParse(n+" 00:00:00")),1===e&&(r.endTime=o.default.dateParse(n+" 23:59:59")),r.display="none",r.startTimeStatus="success",r.endTimeStatus="success",r.errorTips=""}else r.startTime=new Date;this.setState(r),this.props.form.setFieldsValue(r)},componentDidMount:function(){"userdata"===this.props.router&&this.setState({pushTimeType:6})},onOpen:function(){this.setState({pushTimeType:"other"})},changeStartTime:function(t){var e=this.props.router,a=this.props.required,l={router:e,required:a},r=this.props.form.getFieldValue("endTime"),n=c.default.changeStartTime(t,r,l);this.setState(n)},changeEndTime:function(t){var e=this.props.required,a={required:e},l=this.props.form.getFieldValue("startTime"),r=c.default.changeEndTime(t,l,a);this.setState(r)},render:function(){var t="",e=this.props.type,a=this.props.router;"second"===e&&(t=" H:mm:ss");var l=this.props.form.getFieldProps;return i.default.createElement(p,{className:"radio_btn",labelCol:{span:2},wrapperCol:{span:22},label:"时间    "},"personal"===a?null:i.default.createElement(f,{onChange:this.changeRadio,value:this.state.pushTimeType,size:"large",style:{marginRight:10}},"userdata"===a?null:i.default.createElement(m,{value:0},"今天"),"userdata"===a?null:i.default.createElement(m,{value:1},"昨天"),"analyze"===a?null:i.default.createElement(m,{value:6},"最近7天"),"analyze"===a?null:i.default.createElement(m,{value:30},"最近30天"),i.default.createElement(m,{value:"other"},"选择日期")),i.default.createElement(p,{validateStatus:this.state.startTimeStatus,className:"display_ib va_t mg0"},i.default.createElement(s.DatePicker,r({},l("startTime",{initialValue:this.state.startTime,onChange:this.changeStartTime}),{toggleOpen:this.onOpen,showTime:!0,format:"yyyy-MM-dd"+t}))),"analyze"===a?null:i.default.createElement("span",{className:"pl10 pr10"},"至"),"analyze"===a?null:i.default.createElement(p,{validateStatus:this.state.endTimeStatus,className:"display_ib va_t mg0"},i.default.createElement(s.DatePicker,r({},l("endTime",{initialValue:this.state.endTime,onChange:this.changeEndTime}),{toggleOpen:this.onOpen,showTime:!0,format:"yyyy-MM-dd"+t}))),i.default.createElement("span",{style:{display:this.state.display},className:"color_error pl10"},this.state.errorTips))}});t.exports=h},925:function(t,e,a){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}var r=a(600),n=l(r),i=a(783),s=a(926),u=l(s),o=a(902),d=l(o),c=n.default.createClass({displayName:"App",getInitialState:function(){return{columns:[{title:"推送时间",key:"0",className:"ta_c",dataIndex:"date"},{title:n.default.createElement(d.default,{text:"目标数"}),key:"1",className:"ta_c",dataIndex:"targetNo"},{title:n.default.createElement(d.default,{text:"有效数"}),key:"2",className:"ta_c",dataIndex:"validNo"},{title:n.default.createElement(d.default,{text:"推送数"}),key:"3",className:"ta_c",dataIndex:"pushedNo"},{title:n.default.createElement(d.default,{text:"接收数"}),key:"4",className:"ta_c",dataIndex:"acceptNo"},{title:n.default.createElement(d.default,{text:"展示数"}),key:"5",className:"ta_c",dataIndex:"displayNo"},{title:n.default.createElement(d.default,{text:"点击数"}),key:"6",className:"ta_c",dataIndex:"clickNo"}],refresh:!1}},render:function(){var t=this.props.pushType,e=this.props.tableData.data;t&&e.map(function(t){t.displayNo=0,t.clickNo=0});var a=this.props.chartData;if(a)var l={data:[a.targetNo,a.validNo,a.pushedNo,a.acceptNo,a.displayNo,a.clickNo],x:["目标数","有效数","推送数","接收数","展示数","点击数"],rate:[0,a.validRate,a.pushedRate,a.acceptRate,a.displayRate,a.clickRate],bgcolor:"#18A9FF",height:300};return this.props.pushType&&(l.data=[a.targetNo,a.validNo,a.pushedNo,a.acceptNo,0,0],l.rate=[0,a.validRate,a.pushedRate,a.acceptRate,"0.0%","0.0%"]),n.default.createElement("div",{style:{marginLeft:80},className:this.props.chartData?"":"push_data"},a?n.default.createElement(u.default,{options:l,chartData:this.props.chartData,pushType:this.props.pushType}):null,n.default.createElement("div",{id:"detailTable",className:"detail_table"},n.default.createElement(i.Table,{refresh:this.state.refresh,columns:this.state.columns,loading:this.props.tableData.loading,dataSource:e,pagination:this.props.tableData.pagination})))}});t.exports=c},926:function(t,e,a){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}var r=a(600),n=l(r),i=a(783),s=n.default.createClass({displayName:"App",getNumber:function(t){var e=t.toString().split(","),a=parseInt(e.join(""));return a},getGroupPushChart:function(){var t=this,e=this.props.options,a=e.pushTasks,l=e.data.length,r=e.data,s=[];r.sort(function(t,e){var a=t.replace("%","");a=Number(a);var l=e.replace("%","");return l=Number(l),l-a}),a.sort(function(t,e){var a=t.taskStatics.clickRate,l=e.taskStatics.clickRate;return a=a.replace("%",""),a=Number(a),l=l.replace("%",""),l=Number(l),l-a}),r.map(function(t){var e=t.replace("%","");s.push(Number(e))}),s.sort(function(t,e){return e-t});var u=s[0],o=r.map(function(r,s){var o=r.replace("%",""),d=u?u:100,c=o*e.height/d,p=c/300,m={background:e.bgcolor,opacity:p<.2?.2:p,height:c},f={marginLeft:10/l*32,marginTop:e.height-c};l>10&&(f.width=10/l*60);var h=n.default.createElement("div",{className:"chart_tips",style:{padding:10}},n.default.createElement("h3",null,"任务ID：",a[s].taskId),n.default.createElement("h3",null,"标题/备注：",a[s].title),n.default.createElement("h3",null,"内容：",a[s].content),a[s].pushTypeInfo?n.default.createElement("h3",null,"目标用户：",t.props.getUserInfo(a[s])):null,n.default.createElement("h3",null,"推送状态：",a[s].status),n.default.createElement("h3",null,"推送用户数：",a[s].taskStatics.pushedNo));return n.default.createElement(i.Tooltip,{placement:"right",key:s,title:h},n.default.createElement("div",{style:f,key:s,className:"bar_li bar_li_group"},n.default.createElement("div",{className:"bar",style:m}),n.default.createElement("div",{style:{top:-26},className:"text_num"},n.default.createElement("p",{className:"num"},r))))});return n.default.createElement("div",{className:"data_bar"},n.default.createElement("style",null,"\n\t\t\t\t\t\t\t.ant-tooltip-placement-right .ant-tooltip-inner{\n\t\t\t\t\t\t\t\tbackground-color:#fff;\n\t\t\t\t\t\t\t\tword-break:break-all;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t"),n.default.createElement("div",{className:"bar_con",style:{position:"relative",height:e.height,marginTop:70,borderLeft:"1px solid #ccc"}},o,n.default.createElement("span",{style:{position:"absolute",left:0,bottom:-30}},"点击率")))},render:function(){if("groupPush"===this.props.type)return this.getGroupPushChart();var t=this,e=this.props.chartData,a=this.getNumber(e.targetNo),l=this.props.options,r=l.data.length,s=l.data.map(function(e,s){var u=t.getNumber(e)/a*l.height,o={background:l.bgcolor,opacity:s/r+.2,height:u,marginTop:l.height-u},d=n.default.createElement("div",{className:"chart_tips"},n.default.createElement("h2",null,l.x[s]),n.default.createElement("p",null,l.data[s]),l.x[s-1]?n.default.createElement("span",null,n.default.createElement("h2",null,"转化率",n.default.createElement("span",{className:"info"},l.x[s],"/",l.x[s-1])),n.default.createElement("p",null,l.rate[s])):null);return n.default.createElement(i.Tooltip,{placement:"right",key:s,title:d},n.default.createElement("div",{className:"bar_li"},n.default.createElement("div",{className:"bar",style:o}),n.default.createElement("div",{style:{top:l.height-u-46},className:"text_num"},n.default.createElement("p",{className:"text"},l.x[s]),n.default.createElement("p",{className:"num"},e))))});return a?n.default.createElement("div",{className:"data_bar"},n.default.createElement("style",null,"\n\t\t\t\t\t\t\t.ant-tooltip-inner{\n\t\t\t\t\t\t\t\tbackground-color:#fff;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t"),n.default.createElement("div",{className:"bar_con",style:{height:l.height}},s)):null}});t.exports=s},1345:function(t,e,a){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}var r=a(600),n=l(r),i=a(1346),s=l(i),u=a(925),o=l(u),d=a(776),c=l(d),p=a(777),m=l(p),f=a(785),h=l(f),y=n.default.createClass({displayName:"App",getInitialState:function(){return{current:1,tableData:{loading:!0,data:[],pagination:null}}},tableData:function(t){var e=this;this.setState({tableData:{loading:!0}});var a=m.default.queryString("appId",window.location.href),l=c.default.dailyPushStatics;a&&"0"!=a&&(t.appId=a),l=m.default.makeUrl(l,t),h.default.get(l,function(a){var l=a.value.result;l.map(function(t,e){l[e].key=e}),e.setState({tableData:{data:l,loading:!1,pagination:{total:a.value.amount,current:t.index,pageSize:10,showSizeChanger:!1,onChange:function(a){t.index=a,e.tableData(t)}}}})},function(){e.setState({tableData:{loading:!1}})})},componentWillUnmount:function(){document.querySelector("#dataStat")&&(document.querySelector("#dataStat").className="")},componentDidMount:function(){document.querySelector("#dataStat")&&(document.querySelector("#dataStat").className="active");var t={index:1,startTime:m.default.dateFormat("yyyy-MM-dd",new Date),endTime:m.default.dateFormat("yyyy-MM-dd",new Date)};this.tableData(t)},render:function(){return n.default.createElement("div",null,n.default.createElement(s.default,{onSearch:this.tableData}),n.default.createElement(o.default,{refresh:this.state.refresh,tableData:this.state.tableData}))}});t.exports=y},1346:function(t,e,a){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},n=a(600),i=l(n),s=a(783),u=a(777),o=l(u),d=a(921),c=l(d),p=s.Form.Item,m={labelCol:{span:8},wrapperCol:{span:16}},f=i.default.createClass({displayName:"AddAppTask",getInitialState:function(){return{initData:{},values:[],data:null,noticeBarType:"0",noticeExpandType:"0",pushTimeType:0,errors:{}}},handleSubmit:function(t){var e=this;t.preventDefault(),this.props.form.validateFields(function(t,a){if(t)return void console.log("Errors in form!!!");var l=a.startTime,r=a.endTime;if(!(+new Date(l)>+new Date(r))){a.index=1,a.startTime=o.default.dateFormat("yyyy-MM-dd",a.startTime),a.endTime=o.default.dateFormat("yyyy-MM-dd",a.endTime);for(var n in a)""===a[n]&&delete a[n];e.props.onSearch(a)}})},render:function(){return i.default.createElement(s.Form,{horizontal:!0},i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"24"},i.default.createElement(c.default,{type:"day",form:this.props.form}))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{style:{paddingLeft:"89px"}},i.default.createElement(p,r({},m,{label:""}),i.default.createElement(s.Button,{className:"ml10",type:"primary",onClick:this.handleSubmit,size:"large"},"查询")))))}});f=s.Form.create()(f),t.exports=f}});